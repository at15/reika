# Revision 03

## Compiler

Phases

- parser, use ANTLR to generate parse tree
- parser-ex, visit parse tree generated by ANTLR, record position, desugar?
- namer, build symbol table
- typer, type checker

omit (for now)

- optimization, DCE etc.

parallel phases (no dependencies between each other)

- interpreter, use host language as interpreter
- transpiler, translate to Java/C etc.
- jit, use llvm (might need to write the interpreter in C++)
- byte code, (we can have our own byte code and vm)
- machine code

- compiler config (env, repl, cli flags)
- string/file
- profiler
- file specific compiler config (read file meta at start of the file)
- source unit (contains source ?)
- compilation unit (?)
  - https://ceylon-lang.org/documentation/1.1/reference/structure/compilation-unit/
- goto certain phases
  - [ ] have a class called phase composer? go to next phase if current one does not have error
  - lexer
  - antlr paser
  - ast
  - namer
  - typechecker
  - backend
    - evaluator
    - generate java/c/go code
    - generate markdown doc (might evaluate as well)

## AST

- constant
  - [ ] use one class w/ tag or different classes

## Scope & Symbol

- follow ANTLR book